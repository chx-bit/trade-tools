<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Compound Calculator</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #0a0a0a;
        --card: #111;
        --border: #262626;
        --text: #fafafa;
        --muted: #a1a1aa;
        --accent: #ffffff;
      }

      * {
        box-sizing: border-box;
        font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      }

      body {
        margin: 0;
        padding: 24px;
        background: var(--bg);
        color: var(--text);
        display: flex;
        flex-direction: column;
        gap: 20px;
        align-items: center;
      }

      .navbar {
        width: 100%;
        max-width: 980px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          var(--card)
        );
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.45);
      }

      .navbar h1 {
        margin: 0;
        font-size: 18px;
        font-weight: 600;
        color: var(--text);
      }

      button {
        margin: 0 auto;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.08),
          rgba(255, 255, 255, 0.02)
        );
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 10px 16px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.2s ease;
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08),
          0 6px 14px rgba(0, 0, 0, 0.45);
      }

      button:hover {
        border-color: var(--accent);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.14),
          rgba(255, 255, 255, 0.04)
        );
      }

      button:active {
        transform: translateY(1px) scale(0.98);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
      }

      input,
      select {
        width: 100%;
        background: var(--card);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 10px 12px;
        outline: none;
      }

      input::placeholder {
        color: var(--muted);
      }

      hr {
        width: 100%;
        border: none;
        border-top: 1px solid var(--border);
      }

      .counter {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      #outputNumber {
        text-align: center;
        max-width: 80px;
      }

      .main {
        width: 100%;
        max-width: 480px;
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 16px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      #result {
        margin-top: 10px;
        padding: 6px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        text-align: center;
      }

      #result p {
        margin: 0;
        padding: 12px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.01),
          #0f0f0f
        );
        border: 1px solid var(--border);
        border-radius: 10px;
        color: var(--text);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.35);
      }

      #result p::before {
        counter-increment: period;
        content: "Periode " counter(period) "";
        font-size: 12px;
        color: var(--muted);
        margin-right: 8px;
      }

      #result {
        counter-reset: period;
      }

      .amount {
        font-weight: 600;
      }

      .btn-row {
        display: flex;
        gap: 8px;
        margin-top: 8px;
      }
      a{
      text-decoration: none;
      color: #f0f0f0;
    }
    </style>
  </head>

  <body>
    <div class="navbar">
      <h1><a href="index.html">Compound in</a></h1>
    </div>

    <div class="counter">
      <button onclick="minus()">-</button>
      <input type="text" id="outputNumber" disabled />
      <button onclick="plus()">+</button>
    </div>

    <hr />

    <div class="main">
      <input type="number" id="inputValue" placeholder="Nilai Awal" />
      <input type="number" id="inputPeriod" placeholder="Periode Compound" />
      <input type="number" id="inputRate" placeholder="Suku Bunga" />

      <select id="optionCurr">
        <option value="USD">USD</option>
        <option value="IDR">IDR</option>
      </select>

      <div id="result">>_</div>

      <div class="btn-row">
        <button id="gas">Compound</button>
      </div>
    </div>

    <script>
      const inputValue = document.getElementById("inputValue");
      const inputPeriod = document.getElementById("inputPeriod");
      const inputRate = document.getElementById("inputRate");
      const inputCurrency = document.getElementById("optionCurr");
      const run = document.getElementById("gas");
      const result = document.getElementById("result");

      // --- CONFIGURATION & HELPERS ---
      let timer;
      function notif(msg, dur = 3000) {
        result.textContent = msg;
        clearTimeout(timer);
        timer = setTimeout(() => (result.textContent = ">_"), dur);
      }

      let iCurrency = inputCurrency.value;
      const currencyConfig = {
        style: "currency",
        currency: iCurrency,
        currencyDisplay: "symbol",
        maximumFractionDigits: 2,
      };

      // --- MAIN FUNCTIONS ---
      function compoundTheValue(value, period, rate) {
        let compoundResult = value;
        for (let index = 1; index <= period; index++) {
          const p = document.createElement("p");
          let compoundResultFormat = new Intl.NumberFormat(
            "id-ID",
            currencyConfig
          ).format(compoundResult);
          p.textContent = compoundResultFormat;
          result.appendChild(p);
          compoundResult = compoundResult * (1 + rate / 100);
        }
      }

      run.addEventListener("click", function () {
        result.innerHTML = "";
        const iVal = parseFloat(inputValue.value);
        const iPeriod = parseFloat(inputPeriod.value);
        const iRate = parseFloat(inputRate.value);
        const iCurrency = inputCurrency.value;

        if (!iVal && !iPeriod && !iRate) {
          return notif(
            "Silakan lengkapi semua input sebelum melakukan perhitungan"
          );
        }

        currencyConfig.currency = iCurrency;
        compoundTheValue(iVal, iPeriod, iRate);
      });

      function minus() {
        const ele = document.getElementById("outputNumber");
        const cur = parseInt(ele.value) || 0;
        ele.value = cur - 1;
      }

      function plus() {
        const ele = document.getElementById("outputNumber");
        const cur = parseInt(ele.value) || 0;
        ele.value = cur + 1;
      }
    </script>
  </body>
</html>
